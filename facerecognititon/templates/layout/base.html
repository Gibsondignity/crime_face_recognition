{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Access Control System - GCTU Campus</title>
      
        <!-- ‚úÖ Correct Tailwind CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.7/dist/htmx.min.js"></script>

      
        <!-- Alpine.js for interactivity -->
        <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js" defer></script>
      
        <link rel="icon" href="{% static 'assets/images/police/Cybercrime-Unit.jpg' %}" />
        <!-- Tailwind CSS (already assumed if you're using it) -->
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

        <!-- DataTables CSS -->
        <link href="https://cdn.datatables.net/1.13.6/css/dataTables.tailwindcss.min.css" rel="stylesheet" />

        <!-- Optional: Responsive extension for better mobile support -->
        <link href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.tailwindcss.min.css" rel="stylesheet" />

      
        <style>
          .loader {
            border-top-color: #3498db;
            animation: spin 1s infinite linear;
          }
      
          @keyframes spin {
            to {
              transform: rotate(360deg);
            }
          }
      
          .fade-in {
            animation: fadeIn 0.5s ease-in-out;
          }
      
          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
        </style>
      
        {% block head_content %}{% endblock %}
      </head>
      
      <body class="bg-gray-100 text-gray-800 font-sans min-h-screen">

        <!-- Preloader -->
        <div id="preloader" class="fixed inset-0 flex items-center justify-center bg-white z-50">
          <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12"></div>
        </div>
      
        <!-- Header -->
        <header class="bg-white shadow-md sticky top-0 z-30">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
              <div class="flex items-center space-x-4">
                <img src="{% static 'assets/images/police/Cybercrime-Unit.jpg' %}" class="w-10 h-10 rounded-full" />
                <h1 class="text-xl font-bold text-blue-700">Access Control - GCTU Campus</h1>
              </div>
              <div class="flex items-center space-x-4" x-data="{ open: false }">
                <img src="{% static 'assets/images/author/avatar.jpg' %}" class="w-10 h-10 rounded-full cursor-pointer" @click="open = !open" />
                <div class="relative">
                  <h2 class="cursor-pointer text-gray-700" @click="open = !open">
                    {{ request.session.name }} {{ request.session.surname }}
                  </h2>
                  <div x-show="open" @click.away="open = false" class="absolute right-0 mt-2 w-48 bg-white shadow-lg rounded-md z-20">
                    <a href="/logout" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Logout</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </header>
      
        <!-- Body layout -->
        <div class="flex min-h-[calc(100vh-80px)]">
          <!-- Sidebar -->
          <aside class="w-64 bg-white shadow-md p-4 fade-in">
            <nav class="space-y-2 mt-6">
              <a href="{% url 'dashboard' %}" class="block py-2.5 px-4 rounded hover:bg-blue-100 transition">üè† Dashboard</a>
              <a href="{% url 'add_user' %}" class="block py-2.5 px-4 rounded hover:bg-blue-100 transition">‚ûï Add User</a>
              <a href="{% url 'view_users' %}" class="block py-2.5 px-4 rounded hover:bg-blue-100 transition">üëÅÔ∏è View Users</a>
              <a href="{% url 'detect_unauthorized' %}" class="block py-2.5 px-4 rounded hover:bg-blue-100 transition">üß† Detect Access</a>
              <a href="{% url 'spotted_unauthorized' %}" class="block py-2.5 px-4 rounded hover:bg-blue-100 transition">üìç Track Incidents</a>
            </nav>
          </aside>
      
          <!-- Main Content -->
          <main class="flex-1 p-6 fade-in overflow-auto">
            <div class="mb-4">
              <h2 class="text-2xl font-semibold text-gray-800">Dashboard</h2>
              <p class="text-sm text-gray-500">Home / Identify</p>
            </div>
      
            {% block main_content %}
            <!-- Page-specific content goes here -->
            {% endblock %}
          </main>
        </div>
      
        <!-- Footer -->
        <footer class="bg-white shadow-md py-4 text-center text-sm text-gray-500">
          Access Control System using Face Recognition. Ghana Communication Technology University.
        </footer>
      
         <!-- jQuery and DataTables JS -->
         <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
         <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
         <script src="https://cdn.datatables.net/1.13.6/js/dataTables.tailwindcss.min.js"></script>
         <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
        {% block js_content %}{% endblock %}
      
        <script>
          window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            if (preloader) preloader.style.display = 'none';
          });
        </script>
      </body>
      
</html>

